# 大富豪 VR - WebXR トランプゲーム

WebXR対応の大富豪（大貧民）トランプゲームです。CPUとの対戦が楽しめます。

![大富豪 VR](screenshot.png)

## 特徴

- 🎮 **WebXR対応**: VRヘッドセットでの没入型プレイが可能
- 🤖 **CPU対戦**: 3段階の難易度設定（簡単/普通/難しい）
- ✨ **豊富なエフェクト**: カード出し、革命、8切りなどの視覚効果
- 🔊 **効果音**: Web Audio APIによる動的な効果音生成
- 🃏 **本格ルール**: 革命、8切り、スペ3返し、階段など

## ゲームルール

### 基本ルール
- 手札を早くなくした人から順位が決まります
- 場に出ているカードより強いカードを出す必要があります
- 出せない、または出したくない場合はパスできます
- 全員パスすると場が流れます

### カードの強さ
```
弱い ← 3 < 4 < 5 < 6 < 7 < 8 < 9 < 10 < J < Q < K < A < 2 < ジョーカー → 強い
```

### 出し方
- **シングル**: 1枚出し
- **ペア**: 同じ数字2枚
- **トリプル**: 同じ数字3枚
- **クアッド**: 同じ数字4枚（革命発生）
- **階段**: 同じスートの連番3枚以上

### 特殊ルール
- **革命**: 4枚以上の同じ数字を出すとカードの強さが逆転
- **8切り**: 8を含む組み合わせで場が流れる
- **スペ3返し**: ジョーカー単体にスペードの3で勝てる

## 起動方法

### ローカルサーバーで起動

```bash
# Python 3を使用
python3 -m http.server 8080

# または Node.js の http-server
npx http-server -p 8080
```

ブラウザで `http://localhost:8080` にアクセス

### VRモード

VR対応ブラウザ（Quest Browser等）で開き、「VRモードで開始」ボタンをクリック

## 技術スタック

- **Three.js**: 3Dレンダリング
- **WebXR API**: VR対応
- **Web Audio API**: 効果音生成
- **GSAP**: アニメーション
- **Pure JavaScript (ES Modules)**: フレームワーク不使用

## ファイル構成

```
daifugou-xr/
├── index.html          # メインHTML
├── css/
│   └── style.css       # スタイルシート
├── js/
│   ├── main.js         # エントリーポイント
│   ├── Game.js         # ゲームメインクラス
│   ├── Card.js         # カードクラス
│   ├── GameLogic.js    # ゲームロジック
│   ├── Player.js       # プレイヤークラス
│   ├── CPUAI.js        # CPU AI
│   ├── WebXRScene.js   # 3Dシーン管理
│   ├── EffectsManager.js # エフェクト管理
│   └── SoundManager.js # 効果音管理
└── README.md           # このファイル
```

## 設定オプション

設定画面から以下を変更できます：

- BGM音量
- 効果音音量
- 革命あり/なし
- 8切りあり/なし
- スペ3返しあり/なし
- 階段あり/なし
- プレイヤー数（3人/4人）
- CPU難易度

## ブラウザ対応

- Chrome / Edge（推奨）
- Firefox
- Safari
- Quest Browser（VRモード）

## ライセンス

MIT License

## 開発者向け

### デバッグモード

URLに `?debug` を追加するとデバッグモードが有効になります。

```
http://localhost:8080?debug
```

### 今後の予定

- [ ] オンラインマルチプレイ
- [ ] 追加ルール（イレブンバック、縛り等）
- [ ] リプレイ機能
- [ ] 戦績保存
